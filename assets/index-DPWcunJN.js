const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/theme-ocean-Df1BHeqo.js","assets/vendor-three-C29NQ9Z3.js","assets/theme-pixel-fluid-BEDnSuDU.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const P="modulepreload",N=function(r){return"/"+r},S={},b=function(e,o,s){let t=Promise.resolve();if(o&&o.length>0){let a=function(l){return Promise.all(l.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");t=a(o.map(l=>{if(l=N(l),l in S)return;S[l]=!0;const h=l.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":P,h||(m.as="script"),m.crossOrigin="",m.href=l,i&&m.setAttribute("nonce",i),document.head.appendChild(m),h)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return t.then(a=>{for(const c of a||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})};class R{constructor(){this.themes=new Map,this.currentTheme=null,this.selectedThemeId=null}registerTheme(e,o){this.themes.has(e)&&console.warn(`Theme "${e}" is already registered, overwriting...`),this.themes.set(e,o)}async registerThemes(e){for(const[o,s]of Object.entries(e))this.registerTheme(o,s)}getAvailableThemes(){return Array.from(this.themes.keys())}selectRandomTheme(){const e=this.getAvailableThemes();if(e.length===0)throw new Error("No themes registered. Please register at least one theme.");const o=Math.floor(Math.random()*e.length);return this.selectedThemeId=e[o],sessionStorage.setItem("selectedTheme",this.selectedThemeId),this.selectedThemeId}getSelectedTheme(){return this.selectedThemeId||(this.selectedThemeId=sessionStorage.getItem("selectedTheme")),this.selectedThemeId}setSelectedTheme(e){if(!this.themes.has(e))throw new Error(`Theme "${e}" is not registered`);this.selectedThemeId=e,sessionStorage.setItem("selectedTheme",e)}async loadTheme(e,o,s){const t=this.themes.get(e);if(!t)throw new Error(`Theme "${e}" not found. Available themes: ${this.getAvailableThemes().join(", ")}`);if(this.currentTheme){try{this.currentTheme.dispose()}catch(n){console.error("Error disposing previous theme:",n)}this.currentTheme=null}try{const a=(await t()).default;if(!a)throw new Error(`Theme "${e}" does not have a default export`);const c=new a(o,s),i=c.getHTMLContent();i&&this.injectHTMLContent(i),await c.init();const l=c.getStyles();return l&&this.injectStyles(l,e),typeof c.onContentReady=="function"&&await c.onContentReady(),this.currentTheme=c,this.selectedThemeId=e,c}catch(n){throw console.error(`Failed to load theme "${e}":`,n),n}}injectHTMLContent(e){const o=document.querySelector(".page-content");if(!o){console.warn(".page-content container not found, HTML content not injected");return}o.innerHTML=e;const s=o.querySelectorAll("script"),t=[],n=[];s.forEach(i=>{i.src?t.push(i):n.push(i)});const a=i=>new Promise((l,h)=>{const u=document.createElement("script");Array.from(i.attributes).forEach(m=>{u.setAttribute(m.name,m.value)}),u.onload=l,u.onerror=h,i.parentNode.replaceChild(u,i)}),c=i=>{const l=document.createElement("script");Array.from(i.attributes).forEach(h=>{l.setAttribute(h.name,h.value)}),l.textContent=i.textContent,i.parentNode.replaceChild(l,i)};Promise.all(t.map(a)).then(()=>{n.forEach(c)}).catch(i=>{console.error("Failed to load external scripts:",i)})}injectStyles(e,o){const s=document.getElementById("theme-styles");if(s&&s.remove(),e){const t=document.createElement("style");t.id="theme-styles",t.setAttribute("data-theme",o),t.textContent=e,document.head.appendChild(t)}}getCurrentTheme(){return this.currentTheme}isThemeLoaded(){return this.currentTheme!==null&&this.currentTheme.isReady()}async reloadCurrentTheme(e,o){if(!this.selectedThemeId)throw new Error("No theme selected");return await this.loadTheme(this.selectedThemeId,e,o)}switchToNextTheme(){const e=this.getAvailableThemes();if(e.length===0)throw new Error("No themes registered");const s=(e.indexOf(this.selectedThemeId)+1)%e.length,t=e[s];sessionStorage.setItem("selectedTheme",t),window.location.reload()}}const w=document.querySelector("canvas.webgl"),g={width:window.innerWidth,height:window.innerHeight},T=new R;await T.registerThemes({ocean:()=>b(()=>import("./theme-ocean-Df1BHeqo.js").then(r=>r.i),__vite__mapDeps([0,1])),"pixel-fluid":()=>b(()=>import("./theme-pixel-fluid-BEDnSuDU.js"),__vite__mapDeps([2,0,1]))});let E=T.getSelectedTheme();E||(E=T.selectRandomTheme());let d=null;try{d=await T.loadTheme(E,w,g)}catch(r){console.error("Failed to load theme:",r)}const H=()=>{const r=document.createElement("button");return r.className="theme-switch-btn",r.setAttribute("aria-label","Switch theme"),r.innerHTML=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
    </svg>
  `,document.body.appendChild(r),r},f=H();f.addEventListener("click",()=>{T.switchToNextTheme()});const _=()=>{try{const r=f.getBoundingClientRect(),e=r.left+r.width/2,o=r.top+r.height/2,s=w.getContext("webgl")||w.getContext("webgl2");if(!s)return;const t=20,n=new Uint8Array(t*t*4),a=Math.max(0,Math.min(w.width-t,e*(w.width/window.innerWidth))),c=Math.max(0,Math.min(w.height-t,(window.innerHeight-o)*(w.height/window.innerHeight)));s.readPixels(Math.floor(a),Math.floor(c),t,t,s.RGBA,s.UNSIGNED_BYTE,n);let i=0;for(let h=0;h<n.length;h+=4){const u=n[h]/255,m=n[h+1]/255,p=n[h+2]/255,y=.2126*u+.7152*m+.0722*p;i+=y}i/(t*t)>.5?(f.classList.add("dark"),f.classList.remove("light")):(f.classList.add("light"),f.classList.remove("dark"))}catch{f.classList.add("light"),f.classList.remove("dark")}};setTimeout(_,100);const A=()=>{window.requestAnimationFrame(A),d&&d.isReady()&&d.tick()};A();let x=null,C=null,I=window.innerWidth,M=window.innerHeight;window.addEventListener("resize",()=>{clearTimeout(x),clearTimeout(C),x=setTimeout(()=>{const r=window.innerWidth,e=window.innerHeight;if((Math.abs(r-I)>.1||Math.abs(e-M)>.1)&&(I=r,M=e,g.width=r,g.height=e,d&&(d.resize(g),d.requiresReloadOnResize))){const o=d.resizeReloadDelay||500;C=setTimeout(async()=>{try{const s=window.scrollY,t=T.getSelectedTheme();d&&d.dispose(),d=await T.loadTheme(t,w,g),window.scrollTo(0,s),L=s,d&&d.onScroll(s)}catch(s){console.error("Failed to reload theme after resize:",s)}},o)}},200)});let L=window.scrollY;window.addEventListener("scroll",()=>{L=window.scrollY,d&&d.onScroll(L)});const v={x:0,y:0};window.addEventListener("mousemove",r=>{v.x=r.clientX/g.width-.5,v.y=r.clientY/g.height-.5,d&&d.onMouseMove(v)});
